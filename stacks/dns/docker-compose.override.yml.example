# docker-compose.override.yml.example
# 
# This file demonstrates how to customize the stack for your local environment
# without modifying the main docker-compose.yml files.
#
# To use:
# 1. Copy this file to docker-compose.override.yml in the same directory as docker-compose.yml
# 2. Uncomment and modify the sections you need
# 3. Run: docker compose up -d
#
# Docker Compose will automatically merge docker-compose.yml with docker-compose.override.yml

services:
  # =================================================================
  # KEEPALIVED CONFIGURATION (Two-Pi HA Mode)
  # =================================================================
  # 
  # By default, keepalived uses the entrypoint.sh script to dynamically
  # generate its configuration from environment variables. This works
  # well when you set the proper .env values.
  #
  # However, if you prefer to use a static configuration file (for example,
  # a known-good config that you've tested), you can mount it directly.
  #
  # Example for Pi1 (MASTER):
  # Uncomment and adjust the path to your keepalived config file.
  #
  # keepalived:
  #   volumes:
  #     - /var/run/docker.sock:/var/run/docker.sock:ro
  #     # Mount your custom keepalived config (overrides dynamic generation)
  #     - ../../profiles/keepalived/two-pi-ha/keepalived.pi1.conf:/etc/keepalived/keepalived.conf:ro
  #   # Skip the entrypoint and run keepalived directly with your static config
  #   entrypoint: ["keepalived", "--dont-fork", "--log-console", "--log-detail"]
  #
  # Example for Pi2 (BACKUP):
  # keepalived:
  #   volumes:
  #     - /var/run/docker.sock:/var/run/docker.sock:ro
  #     - ../../profiles/keepalived/two-pi-ha/keepalived.pi2.conf:/etc/keepalived/keepalived.conf:ro
  #   entrypoint: ["keepalived", "--dont-fork", "--log-console", "--log-detail"]
  #
  # NOTE: When using a static config, remember to:
  # 1. Replace <VRRP_PASSWORD> with your actual password
  # 2. Update IP addresses to match your network
  # 3. Ensure the config is valid keepalived syntax

  # =================================================================
  # PI-HOLE CUSTOMIZATION
  # =================================================================
  
  # Example: Change Pi-hole timezone
  # pihole_primary:
  #   environment:
  #     - TZ=America/Los_Angeles

  # Example: Expose additional ports
  # pihole_primary:
  #   ports:
  #     - "8080:80"

  # Example: Mount additional volumes
  # pihole_primary:
  #   volumes:
  #     - ./custom-lists:/etc/pihole/custom-lists

  # Example: Override resource limits
  # pihole_primary:
  #   deploy:
  #     resources:
  #       limits:
  #         memory: 1G

  # Example: Add custom DNS entries
  # pihole_primary:
  #   environment:
  #     - PIHOLE_DNS1=1.1.1.1
  #     - PIHOLE_DNS2=8.8.8.8

  # Example: Enable debug logging
  # pihole_primary:
  #   environment:
  #     - DNSMASQ_LISTENING=all
  #     - WEBLOGSLEVEL=DEBUG
